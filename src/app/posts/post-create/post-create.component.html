
<mat-card>
    <mat-spinner *ngIf="isLoading"></mat-spinner>
    <form [formGroup]="form" (submit)="onAddPost()"  *ngIf="!isLoading">
        <mat-form-field>
            <input matInput type="text" formControlName="title" placeholder="Title" required />
            <mat-error *ngIf="form.controls['title'].dirty && form.hasError('required', 'title')">Enter post title</mat-error>
        </mat-form-field>
        <div>
            <button mat-storked-button type="button" (click)="filePicker.click()">Pic Image</button>
            <input type="file" #filePicker (change)="onImagePicked($event)" />
        </div>
        <div class="image-prevew" *ngIf="imageUrl !== '' && imageUrl">
            <img [src]="imageUrl" alt="">
        </div>
        <mat-form-field>
            <textarea matInput rows="6" formControlName="content" placeholder="Content" required ></textarea>
            <mat-error *ngIf="form.controls['content'].dirty && form.hasError('required', 'content')">Enter post Content</mat-error>
        </mat-form-field>
        <button mat-raised-button color="accent" type="submit">Save Post</button>
    </form>
</mat-card>